import core/io::println
import core/memory

shape Point (x: i32, y: i32)

fn main() -> i32 {
    auto *ptr# = new Point(x = 10, y = 20)
    
    // 1. Point-Value Duality: ptr is the object
    println("ptr.x = {} (expected 10)", ptr.x)
    ptr#.x = 100
    println("After ptr#.x = 100, ptr.x = {} (expected 100)", ptr.x)
    
    // 2. Identity access: *ptr is the pointer
    println("Address (*ptr) = {}", *ptr)
    
    // 3. Explicit pointer access: (*ptr)->y
    println("(*ptr)->y = {} (expected 20)", (*ptr)->y)
    
    del *ptr
    
    println("Morphology test done\n")
    return 0
}
